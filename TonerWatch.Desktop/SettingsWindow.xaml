<Window x:Class="TonerWatch.Desktop.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ - TonerWatch" 
        Height="850" Width="900"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#0F172A"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType"
        TextOptions.TextHintingMode="Fixed"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True">
    
    <Window.Resources>
        <Style x:Key="ModernTabStyle" TargetType="TabItem">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="#94A3B8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>
        
        <Style x:Key="SectionCardStyle" TargetType="Border">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style x:Key="ModernComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Background" Value="#374151"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#4B5563"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Height" Value="36"/>
        </Style>
        
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#374151"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#4B5563"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Height" Value="36"/>
        </Style>
        
        <Style x:Key="ModernCheckBoxStyle" TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,8"/>
        </Style>
        
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#14B8A6"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#0F766E"/>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="0.5" CenterY="0.5"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="0.95" ScaleY="0.95" CenterX="0.5" CenterY="0.5"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#1E293B" Padding="30,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Border Grid.Column="0" Background="#14B8A6" CornerRadius="12" Width="48" Height="48" 
                      VerticalAlignment="Center" Margin="0,0,16,0">
                    <TextBlock Text="âš™ï¸" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ TonerWatch" FontSize="24" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð¿Ñ€Ð¸Ð½Ñ‚ÐµÑ€Ð¾Ð² Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹" FontSize="14" 
                             Foreground="#94A3B8" Margin="0,4,0,0"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Main Content with TabControl -->
        <TabControl Grid.Row="1" Padding="30" Background="#0F172A" BorderThickness="0">
            <TabItem Header="ÐžÐ±Ñ‰Ð¸Ðµ" Style="{StaticResource ModernTabStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- General Settings -->
                        <Border Style="{StaticResource SectionCardStyle}">
                            <StackPanel>
                                <TextBlock Text="ðŸ“‹ ÐžÐ±Ñ‰Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸" FontSize="18" FontWeight="Bold" 
                                         Foreground="White" Margin="0,0,0,16"/>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="RefreshIntervalComboBox" Grid.Column="1" SelectedIndex="2" Style="{StaticResource ModernComboBoxStyle}"/>
                                </Grid>
                                
                                <!-- Custom interval input -->
                                <Grid x:Name="CustomIntervalGrid" Margin="0,0,0,16" Visibility="Collapsed">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="CustomIntervalTextBox" Grid.Column="1" Text="60" Style="{StaticResource ModernTextBoxStyle}" 
                                           Margin="0,0,8,0" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Text="ÑÐµÐºÑƒÐ½Ð´" Foreground="#94A3B8" VerticalAlignment="Center" FontSize="13"/>
                                </Grid>
                                
                                <!-- Discovery interval -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¿Ð¾Ð¸ÑÐºÐ°:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="DiscoveryIntervalComboBox" Grid.Column="1" SelectedIndex="2" Style="{StaticResource ModernComboBoxStyle}"/>
                                </Grid>
                                
                                <CheckBox x:Name="StartWithWindowsCheckBox" Content="Ð—Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ñ Windows" Style="{StaticResource ModernCheckBoxStyle}"/>
                                <CheckBox x:Name="MinimizeToTrayCheckBox" Content="Ð¡Ð²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ñ‚Ñ€ÐµÐ¹" Style="{StaticResource ModernCheckBoxStyle}"/>
                                <CheckBox x:Name="ShowDesktopNotificationsCheckBox" Content="ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼ ÑÑ‚Ð¾Ð»Ðµ" IsChecked="True" Style="{StaticResource ModernCheckBoxStyle}"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Alert Settings -->
                        <Border Style="{StaticResource SectionCardStyle}">
                            <StackPanel>
                                <TextBlock Text="ðŸš¨ ÐŸÐ¾Ñ€Ð¾Ð³Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹" FontSize="18" FontWeight="Bold" 
                                         Foreground="White" Margin="0,0,0,16"/>
                                
                                <Grid Margin="0,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="60"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <Slider x:Name="CriticalSlider" Grid.Column="1" Minimum="0" Maximum="25" Value="10" 
                                          TickFrequency="5" IsSnapToTickEnabled="True" Margin="0,0,12,0"
                                          ValueChanged="CriticalSlider_ValueChanged"/>
                                    <TextBlock x:Name="CriticalValueText" Grid.Column="2" Text="10%" Foreground="#EF4444" 
                                             VerticalAlignment="Center" FontWeight="Bold" FontSize="13"/>
                                </Grid>

                                <Grid Margin="0,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="60"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <Slider x:Name="WarningSlider" Grid.Column="1" Minimum="10" Maximum="50" Value="25" 
                                          TickFrequency="5" IsSnapToTickEnabled="True" Margin="0,0,12,0"
                                          ValueChanged="WarningSlider_ValueChanged"/>
                                    <TextBlock x:Name="WarningValueText" Grid.Column="2" Text="25%" Foreground="#F59E0B" 
                                             VerticalAlignment="Center" FontWeight="Bold" FontSize="13"/>
                                </Grid>
                                
                                <CheckBox x:Name="WindowsNotificationsCheckBox" Content="ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Windows" IsChecked="True" Style="{StaticResource ModernCheckBoxStyle}"/>
                                <CheckBox x:Name="EmailNotificationsCheckBox" Content="ðŸ“§ Email ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ" Style="{StaticResource ModernCheckBoxStyle}"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Network Settings -->
                        <Border Style="{StaticResource SectionCardStyle}">
                            <StackPanel>
                                <TextBlock Text="ðŸŒ Ð¡ÐµÑ‚ÐµÐ²Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸" FontSize="18" FontWeight="Bold" 
                                         Foreground="White" Margin="0,0,0,16"/>
                                
                                <!-- IP Range Configuration -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñ‹ IP-Ð°Ð´Ñ€ÐµÑÐ¾Ð²:" 
                                             Foreground="White" VerticalAlignment="Top" FontSize="13" Margin="0,0,10,0"/>
                                    <StackPanel Grid.Column="1">
                                        <TextBox x:Name="SubnetRangeTextBox" Text="192.168.0.0/24" Style="{StaticResource ModernTextBoxStyle}" 
                                               Margin="0,0,0,8" AcceptsReturn="True" Height="80" TextWrapping="Wrap"
                                               ToolTip="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñ‹ IP-Ð°Ð´Ñ€ÐµÑÐ¾Ð², Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð°Ð¿ÑÑ‚Ñ‹Ð¼Ð¸ Ð¸Ð»Ð¸ Ð½Ð¾Ð²Ñ‹Ð¼Ð¸ ÑÑ‚Ñ€Ð¾ÐºÐ°Ð¼Ð¸"/>
                                        
                                        <!-- IP Range Validation Message -->
                                        <TextBlock x:Name="IpRangeValidationText" Text="" FontSize="12" 
                                                 Foreground="#F59E0B" Margin="0,0,0,8" Visibility="Collapsed"/>
                                        
                                        <!-- Visual Representation of Network Segments -->
                                        <Border Background="#374151" CornerRadius="8" Padding="12" Margin="0,0,0,8">
                                            <StackPanel>
                                                <TextBlock Text="ðŸ“Š Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐµÑ‚ÐµÐ²Ñ‹Ñ… ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð²" FontSize="12" 
                                                         Foreground="#94A3B8" Margin="0,0,0,8"/>
                                                <ItemsControl x:Name="NetworkSegmentsVisualization">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border Background="#1E293B" CornerRadius="6" Padding="8" Margin="0,0,0,4">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <Ellipse Width="8" Height="8" Fill="#14B8A6" 
                                                                           VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding}" FontSize="12" 
                                                                             Foreground="White" VerticalAlignment="Center"/>
                                                                    <TextBlock Grid.Column="2" Text="âœ“" FontSize="12" 
                                                                             Foreground="#10B981" VerticalAlignment="Center" Margin="8,0,0,0"/>
                                                                </Grid>
                                                            </Border>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </Border>
                                        
                                        <!-- Common Network Presets -->
                                        <TextBlock Text="í€µ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:" FontSize="12" Foreground="#94A3B8" Margin="0,8,0,4"/>
                                        <StackPanel Orientation="Horizontal">
                                            <Button Content="Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ ÑÐµÑ‚ÑŒ (192.168.1.0/24)" Style="{StaticResource ActionButtonStyle}" 
                                                   FontSize="11" Padding="8,4" Margin="0,0,8,0" Click="PresetLocalNetwork_Click"/>
                                            <Button Content="ÐšÐ»Ð°ÑÑ C (192.168.0.0/16)" Style="{StaticResource ActionButtonStyle}" 
                                                   FontSize="11" Padding="8,4" Margin="0,0,8,0" Click="PresetClassC_Click"/>
                                            <Button Content="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ" Style="{StaticResource ActionButtonStyle}" 
                                                   Background="#6B7280" FontSize="11" Padding="8,4" Click="ClearIpRanges_Click"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>
                                
                                <CheckBox x:Name="AutoDiscoveryCheckBox" Content="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²" IsChecked="True" Style="{StaticResource ModernCheckBoxStyle}"/>
                                <CheckBox x:Name="SnmpCheckBox" Content="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ SNMP Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³" IsChecked="True" Style="{StaticResource ModernCheckBoxStyle}"/>
                                
                                <!-- SNMP Configuration -->
                                <TextBlock Text="ðŸ“¡ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ SNMP" FontSize="16" FontWeight="Bold" 
                                         Foreground="White" Margin="0,20,0,16"/>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð’ÐµÑ€ÑÐ¸Ñ SNMP:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="SnmpVersionComboBox" Grid.Column="1" SelectedIndex="1" Style="{StaticResource ModernComboBoxStyle}">
                                        <ComboBoxItem Content="SNMPv1"/>
                                        <ComboBoxItem Content="SNMPv2c"/>
                                        <ComboBoxItem Content="SNMPv3"/>
                                    </ComboBox>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Community String:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="SnmpCommunityTextBox" Grid.Column="1" Text="public" Style="{StaticResource ModernTextBoxStyle}"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ SNMP:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="SnmpTimeoutTextBox" Grid.Column="1" Text="5000" Style="{StaticResource ModernTextBoxStyle}" 
                                           TextAlignment="Right"/>
                                </Grid>
                                
                                <!-- Performance Settings -->
                                <TextBlock Text="âš¡ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸" FontSize="16" FontWeight="Bold" 
                                         Foreground="White" Margin="0,20,0,16"/>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐœÐ°ÐºÑ. Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑÐºÐ°Ð½Ð¾Ð²:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="MaxConcurrentScansTextBox" Grid.Column="1" Text="50" Style="{StaticResource ModernTextBoxStyle}" 
                                           Margin="0,0,8,0" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Text="ÑÐºÐ°Ð½Ð¾Ð²" Foreground="#94A3B8" VerticalAlignment="Center" FontSize="13"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="ScanTimeoutTextBox" Grid.Column="1" Text="3" Style="{StaticResource ModernTextBoxStyle}" 
                                           Margin="0,0,8,0" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Text="ÑÐµÐºÑƒÐ½Ð´" Foreground="#94A3B8" VerticalAlignment="Center" FontSize="13"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ñ‹ ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="ScanRetriesTextBox" Grid.Column="1" Text="1" Style="{StaticResource ModernTextBoxStyle}" 
                                           TextAlignment="Right"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¼ÐµÐ¶Ð´Ñƒ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð°Ð¼Ð¸:" 
                                             Foreground="White" VerticalAlignment="Center" FontSize="13" Margin="0,0,10,0"/>
                                    <TextBox x:Name="ScanRetryDelayTextBox" Grid.Column="1" Text="1000" Style="{StaticResource ModernTextBoxStyle}" 
                                           Margin="0,0,8,0" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Text="Ð¼Ñ" Foreground="#94A3B8" VerticalAlignment="Center" FontSize="13"/>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Network Segments Tab -->
            <TabItem Header="Ð¡ÐµÑ‚ÐµÐ²Ñ‹Ðµ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ñ‹" Style="{StaticResource ModernTabStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- Network Segments Management -->
                        <Border Style="{StaticResource SectionCardStyle}">
                            <StackPanel>
                                <TextBlock Text="ðŸŒ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÑ‚ÐµÐ²Ñ‹Ð¼Ð¸ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸" FontSize="18" FontWeight="Bold" 
                                         Foreground="White" Margin="0,0,0,16"/>
                                
                                <!-- Segment List -->
                                <TextBlock Text="Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ñ‹:" FontSize="14" FontWeight="Medium" 
                                         Foreground="White" Margin="0,0,0,8"/>
                                
                                <Border Background="#374151" CornerRadius="8" Padding="12" Margin="0,0,0,16">
                                    <StackPanel>
                                        <ItemsControl x:Name="NetworkSegmentsList">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Background="#1E293B" CornerRadius="8" Padding="12" Margin="0,0,0,8">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            
                                                            <StackPanel Grid.Column="0">
                                                                <TextBlock Text="{Binding Name}" FontSize="14" FontWeight="Bold" 
                                                                         Foreground="White" Margin="0,0,0,4"/>
                                                                <TextBlock Text="{Binding IpRange}" FontSize="12" 
                                                                         Foreground="#94A3B8" Margin="0,0,0,4"/>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: " FontSize="11" Foreground="#94A3B8"/>
                                                                    <TextBlock Text="{Binding IsEnabled, Converter={StaticResource BooleanToStatusConverter}}" 
                                                                             FontSize="11" Foreground="{Binding IsEnabled, Converter={StaticResource BooleanToColorConverter}}"/>
                                                                    <TextBlock Text=" | ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐºÐ°Ð½: " FontSize="11" Foreground="#94A3B8" Margin="8,0,0,0"/>
                                                                    <TextBlock Text="{Binding LastScanTime, StringFormat='{}{0:dd.MM.yyyy HH:mm}'}" 
                                                                             FontSize="11" Foreground="#94A3B8"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                            
                                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                                <Button Content="âœï¸" Width="30" Height="30" Margin="0,0,4,0"
                                                                       Background="#3B82F6" Foreground="White" BorderThickness="0"
                                                                       Click="EditSegmentButton_Click" Tag="{Binding}"/>
                                                                <Button Content="ðŸ—‘ï¸" Width="30" Height="30"
                                                                       Background="#EF4444" Foreground="White" BorderThickness="0"
                                                                       Click="DeleteSegmentButton_Click" Tag="{Binding}"/>
                                                            </StackPanel>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                        
                                        <TextBlock x:Name="NoSegmentsText" Text="ÐÐµÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ñ… ÑÐµÑ‚ÐµÐ²Ñ‹Ñ… ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð²" 
                                                 FontSize="12" Foreground="#94A3B8" HorizontalAlignment="Center" 
                                                 Margin="0,16" Visibility="Collapsed"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Add New Segment Button -->
                                <Button Content="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐµÑ‚ÐµÐ²Ð¾Ð¹ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚" Style="{StaticResource ActionButtonStyle}" 
                                       HorizontalAlignment="Left" Click="AddSegmentButton_Click"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Segment Configuration Panel -->
                        <Border x:Name="SegmentConfigPanel" Style="{StaticResource SectionCardStyle}" Visibility="Collapsed">
                            <StackPanel>
                                <TextBlock x:Name="SegmentConfigTitle" Text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚" FontSize="18" FontWeight="Bold" 
                                         Foreground="White" Margin="0,0,0,16"/>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentNameTextBox" Grid.Column="1" Style="{StaticResource ModernTextBoxStyle}"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentDescriptionTextBox" Grid.Column="1" Style="{StaticResource ModernTextBoxStyle}"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="IP Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentIpRangeTextBox" Grid.Column="1" Style="{StaticResource ModernTextBoxStyle}"
                                           ToolTip="ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹: CIDR (192.168.1.0/24), Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñ‹ (192.168.1.1-254), Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ"/>
                                </Grid>
                                
                                <CheckBox x:Name="SegmentEnabledCheckBox" Content="Ð¡ÐµÐ³Ð¼ÐµÐ½Ñ‚ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½" IsChecked="True" 
                                        Style="{StaticResource ModernCheckBoxStyle}"/>
                                
                                <TextBlock Text="ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ" FontSize="16" FontWeight="Bold" 
                                         Foreground="White" Margin="0,20,0,16"/>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentTimeoutTextBox" Grid.Column="1" Text="3" Style="{StaticResource ModernTextBoxStyle}" 
                                           TextAlignment="Right" Margin="0,0,8,0"/>
                                    <TextBlock Grid.Column="2" Text="ÑÐµÐºÑƒÐ½Ð´" Foreground="#94A3B8" VerticalAlignment="Center" FontSize="13"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐœÐ°ÐºÑ. ÑÐºÐ°Ð½Ð¾Ð²:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentMaxScansTextBox" Grid.Column="1" Text="50" Style="{StaticResource ModernTextBoxStyle}" 
                                           TextAlignment="Right"/>
                                </Grid>
                                
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ñ‹:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentRetriesTextBox" Grid.Column="1" Text="1" Style="{StaticResource ModernTextBoxStyle}" 
                                           TextAlignment="Right"/>
                                </Grid>
                                
                                <CheckBox x:Name="SegmentSnmpCheckBox" Content="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ SNMP" IsChecked="True" 
                                        Style="{StaticResource ModernCheckBoxStyle}"/>
                                
                                <CheckBox x:Name="SegmentScheduleCheckBox" Content="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ" 
                                        Style="{StaticResource ModernCheckBoxStyle}" Checked="SegmentScheduleCheckBox_Checked" 
                                        Unchecked="SegmentScheduleCheckBox_Unchecked"/>
                                
                                <Grid x:Name="SegmentScheduleGrid" Margin="0,0,0,16" Visibility="Collapsed">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:" Foreground="White" VerticalAlignment="Center" FontSize="13"/>
                                    <TextBox x:Name="SegmentScheduleTextBox" Grid.Column="1" Text="every 60 minutes" Style="{StaticResource ModernTextBoxStyle}"
                                           ToolTip="Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚: 'every X minutes' Ð¸Ð»Ð¸ cron-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ"/>
                                </Grid>
                                
                                <CheckBox x:Name="SegmentAvoidPeakCheckBox" Content="Ð˜Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ Ð¿Ð¸ÐºÐ¾Ð²Ñ‹Ñ… Ñ‡Ð°ÑÐ¾Ð² (9-17)" 
                                        Style="{StaticResource ModernCheckBoxStyle}"/>
                                
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="âŒ ÐžÑ‚Ð¼ÐµÐ½Ð°" Margin="0,0,12,0" 
                                           Background="#374151" Foreground="White" BorderThickness="0" 
                                           Padding="16,8" FontSize="13" Click="CancelSegmentButton_Click"/>
                                    <Button Content="âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" 
                                           Background="#14B8A6" Foreground="White" BorderThickness="0" 
                                           Padding="16,8" FontSize="13" FontWeight="Medium" Click="SaveSegmentButton_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Bottom Buttons -->
        <Border Grid.Row="2" Background="#1E293B" Padding="30,16">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="ðŸ”„ Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸" Margin="0,0,16,0" 
                       Background="#6B7280" Foreground="White" BorderThickness="0" 
                       Padding="16,8" FontSize="13" Click="ResetButton_Click"/>
                <Button Content="âŒ ÐžÑ‚Ð¼ÐµÐ½Ð°" Margin="0,0,12,0" 
                       Background="#374151" Foreground="White" BorderThickness="0" 
                       Padding="16,8" FontSize="13" Click="CancelButton_Click"/>
                <Button Content="âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" 
                       Background="#14B8A6" Foreground="White" BorderThickness="0" 
                       Padding="16,8" FontSize="13" FontWeight="Medium" Click="SaveButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>